{"id":"../node_modules/react-stockcharts/lib/series/LineSeries.js","dependencies":[{"name":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/series/LineSeries.js.map","includedInParent":true,"mtime":1536032206000},{"name":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/package.json","includedInParent":true,"mtime":1602365273866},{"name":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/public/.babelrc","includedInParent":true,"mtime":1602365273866},{"name":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/package.json","includedInParent":true,"mtime":1602365360568},{"name":"react","loc":{"line":13,"column":21},"parent":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/series/LineSeries.js","resolved":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react/react.js"},{"name":"prop-types","loc":{"line":17,"column":25},"parent":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/series/LineSeries.js","resolved":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/prop-types/index.js"},{"name":"d3-shape","loc":{"line":21,"column":23},"parent":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/series/LineSeries.js","resolved":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/d3-shape/src/index.js"},{"name":"../GenericChartComponent","loc":{"line":23,"column":37},"parent":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/series/LineSeries.js","resolved":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/GenericChartComponent.js"},{"name":"../GenericComponent","loc":{"line":27,"column":32},"parent":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/series/LineSeries.js","resolved":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/GenericComponent.js"},{"name":"../utils","loc":{"line":29,"column":21},"parent":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/series/LineSeries.js","resolved":"/home/hemanth/Desktop/Itarle/OpenFinWithReactReduxParcel/node_modules/react-stockcharts/lib/utils/index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _d3Shape = require(\"d3-shape\");\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _GenericComponent = require(\"../GenericComponent\");\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LineSeries = function (_Component) {\n\t_inherits(LineSeries, _Component);\n\n\tfunction LineSeries(props) {\n\t\t_classCallCheck(this, LineSeries);\n\n\t\tvar _this = _possibleConstructorReturn(this, (LineSeries.__proto__ || Object.getPrototypeOf(LineSeries)).call(this, props));\n\n\t\t_this.renderSVG = _this.renderSVG.bind(_this);\n\t\t_this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n\t\t_this.isHover = _this.isHover.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(LineSeries, [{\n\t\tkey: \"isHover\",\n\t\tvalue: function isHover(moreProps) {\n\t\t\t// console.log(\"HERE\")\n\t\t\tvar _props = this.props,\n\t\t\t    highlightOnHover = _props.highlightOnHover,\n\t\t\t    yAccessor = _props.yAccessor,\n\t\t\t    hoverTolerance = _props.hoverTolerance;\n\n\n\t\t\tif (!highlightOnHover) return false;\n\n\t\t\tvar mouseXY = moreProps.mouseXY,\n\t\t\t    currentItem = moreProps.currentItem,\n\t\t\t    xScale = moreProps.xScale,\n\t\t\t    plotData = moreProps.plotData;\n\t\t\tvar _moreProps$chartConfi = moreProps.chartConfig,\n\t\t\t    yScale = _moreProps$chartConfi.yScale,\n\t\t\t    origin = _moreProps$chartConfi.origin;\n\t\t\tvar xAccessor = moreProps.xAccessor;\n\n\t\t\tvar _mouseXY = _slicedToArray(mouseXY, 2),\n\t\t\t    x = _mouseXY[0],\n\t\t\t    y = _mouseXY[1];\n\n\t\t\tvar radius = hoverTolerance;\n\n\t\t\tvar _getClosestItemIndexe = (0, _utils.getClosestItemIndexes)(plotData, xScale.invert(x), xAccessor),\n\t\t\t    left = _getClosestItemIndexe.left,\n\t\t\t    right = _getClosestItemIndexe.right;\n\n\t\t\tif (left === right) {\n\t\t\t\tvar cy = yScale(yAccessor(currentItem)) + origin[1];\n\t\t\t\tvar cx = xScale(xAccessor(currentItem)) + origin[0];\n\n\t\t\t\tvar hovering1 = Math.pow(x - cx, 2) + Math.pow(y - cy, 2) < Math.pow(radius, 2);\n\n\t\t\t\treturn hovering1;\n\t\t\t} else {\n\t\t\t\tvar l = plotData[left];\n\t\t\t\tvar r = plotData[right];\n\t\t\t\tvar x1 = xScale(xAccessor(l)) + origin[0];\n\t\t\t\tvar y1 = yScale(yAccessor(l)) + origin[1];\n\t\t\t\tvar x2 = xScale(xAccessor(r)) + origin[0];\n\t\t\t\tvar y2 = yScale(yAccessor(r)) + origin[1];\n\n\t\t\t\t// y = m * x + b\n\t\t\t\tvar m /* slope */ = (y2 - y1) / (x2 - x1);\n\t\t\t\tvar b /* y intercept */ = -1 * m * x1 + y1;\n\n\t\t\t\tvar desiredY = Math.round(m * x + b);\n\n\t\t\t\tvar hovering2 = y >= desiredY - radius && y <= desiredY + radius;\n\n\t\t\t\treturn hovering2;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"drawOnCanvas\",\n\t\tvalue: function drawOnCanvas(ctx, moreProps) {\n\t\t\tvar _props2 = this.props,\n\t\t\t    yAccessor = _props2.yAccessor,\n\t\t\t    stroke = _props2.stroke,\n\t\t\t    strokeOpacity = _props2.strokeOpacity,\n\t\t\t    strokeWidth = _props2.strokeWidth,\n\t\t\t    hoverStrokeWidth = _props2.hoverStrokeWidth,\n\t\t\t    defined = _props2.defined,\n\t\t\t    strokeDasharray = _props2.strokeDasharray,\n\t\t\t    interpolation = _props2.interpolation,\n\t\t\t    canvasClip = _props2.canvasClip;\n\t\t\tvar connectNulls = this.props.connectNulls;\n\t\t\tvar xAccessor = moreProps.xAccessor;\n\t\t\tvar xScale = moreProps.xScale,\n\t\t\t    yScale = moreProps.chartConfig.yScale,\n\t\t\t    plotData = moreProps.plotData,\n\t\t\t    hovering = moreProps.hovering;\n\n\n\t\t\tif (canvasClip) {\n\t\t\t\tctx.save();\n\t\t\t\tcanvasClip(ctx, moreProps);\n\t\t\t}\n\n\t\t\tctx.lineWidth = hovering ? hoverStrokeWidth : strokeWidth;\n\n\t\t\tctx.strokeStyle = (0, _utils.hexToRGBA)(stroke, strokeOpacity);\n\t\t\tctx.setLineDash((0, _utils.getStrokeDasharray)(strokeDasharray).split(\",\"));\n\n\t\t\tvar dataSeries = (0, _d3Shape.line)().x(function (d) {\n\t\t\t\treturn Math.round(xScale(xAccessor(d)));\n\t\t\t}).y(function (d) {\n\t\t\t\treturn Math.round(yScale(yAccessor(d)));\n\t\t\t});\n\n\t\t\tif ((0, _utils.isDefined)(interpolation)) {\n\t\t\t\tdataSeries.curve(interpolation);\n\t\t\t}\n\t\t\tif (!connectNulls) {\n\t\t\t\tdataSeries.defined(function (d) {\n\t\t\t\t\treturn defined(yAccessor(d));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\t\t\tdataSeries.context(ctx)(plotData);\n\t\t\tctx.stroke();\n\n\t\t\tif (canvasClip) {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"renderSVG\",\n\t\tvalue: function renderSVG(moreProps) {\n\t\t\tvar _props3 = this.props,\n\t\t\t    yAccessor = _props3.yAccessor,\n\t\t\t    stroke = _props3.stroke,\n\t\t\t    strokeOpacity = _props3.strokeOpacity,\n\t\t\t    strokeWidth = _props3.strokeWidth,\n\t\t\t    hoverStrokeWidth = _props3.hoverStrokeWidth,\n\t\t\t    defined = _props3.defined,\n\t\t\t    strokeDasharray = _props3.strokeDasharray;\n\t\t\tvar connectNulls = this.props.connectNulls;\n\t\t\tvar _props4 = this.props,\n\t\t\t    interpolation = _props4.interpolation,\n\t\t\t    style = _props4.style;\n\t\t\tvar xAccessor = moreProps.xAccessor,\n\t\t\t    chartConfig = moreProps.chartConfig;\n\t\t\tvar xScale = moreProps.xScale,\n\t\t\t    plotData = moreProps.plotData,\n\t\t\t    hovering = moreProps.hovering;\n\t\t\tvar yScale = chartConfig.yScale;\n\n\t\t\tvar dataSeries = (0, _d3Shape.line)().x(function (d) {\n\t\t\t\treturn Math.round(xScale(xAccessor(d)));\n\t\t\t}).y(function (d) {\n\t\t\t\treturn Math.round(yScale(yAccessor(d)));\n\t\t\t});\n\n\t\t\tif ((0, _utils.isDefined)(interpolation)) {\n\t\t\t\tdataSeries.curve(interpolation);\n\t\t\t}\n\t\t\tif (!connectNulls) {\n\t\t\t\tdataSeries.defined(function (d) {\n\t\t\t\t\treturn defined(yAccessor(d));\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar d = dataSeries(plotData);\n\n\t\t\tvar _props5 = this.props,\n\t\t\t    fill = _props5.fill,\n\t\t\t    className = _props5.className;\n\n\n\t\t\treturn _react2.default.createElement(\"path\", {\n\t\t\t\tstyle: style,\n\t\t\t\tclassName: className + \" \" + (stroke ? \"\" : \" line-stroke\"),\n\t\t\t\td: d,\n\t\t\t\tstroke: stroke,\n\t\t\t\tstrokeOpacity: strokeOpacity,\n\t\t\t\tstrokeWidth: hovering ? hoverStrokeWidth : strokeWidth,\n\t\t\t\tstrokeDasharray: (0, _utils.getStrokeDasharray)(strokeDasharray),\n\t\t\t\tfill: fill\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"render\",\n\t\tvalue: function render() {\n\t\t\tvar _props6 = this.props,\n\t\t\t    highlightOnHover = _props6.highlightOnHover,\n\t\t\t    onHover = _props6.onHover,\n\t\t\t    onUnHover = _props6.onUnHover;\n\n\t\t\tvar hoverProps = highlightOnHover || onHover || onUnHover ? {\n\t\t\t\tisHover: this.isHover,\n\t\t\t\tdrawOn: [\"mousemove\", \"pan\"],\n\t\t\t\tcanvasToDraw: _GenericComponent.getMouseCanvas\n\t\t\t} : {\n\t\t\t\tdrawOn: [\"pan\"],\n\t\t\t\tcanvasToDraw: _GenericComponent.getAxisCanvas\n\t\t\t};\n\n\t\t\treturn _react2.default.createElement(_GenericChartComponent2.default, _extends({\n\t\t\t\tsvgDraw: this.renderSVG,\n\n\t\t\t\tcanvasDraw: this.drawOnCanvas,\n\n\t\t\t\tonClickWhenHover: this.props.onClick,\n\t\t\t\tonDoubleClickWhenHover: this.props.onDoubleClick,\n\t\t\t\tonContextMenuWhenHover: this.props.onContextMenu,\n\t\t\t\tonHover: this.props.onHover,\n\t\t\t\tonUnHover: this.props.onUnHover\n\t\t\t}, hoverProps));\n\t\t}\n\t}]);\n\n\treturn LineSeries;\n}(_react.Component);\n\n/*\nfunction segment(points, ctx) {\n\tctx.beginPath();\n\n\tconst [x, y] = first(points);\n\tctx.moveTo(x, y);\n\tfor (let i = 1; i < points.length; i++) {\n\t\tconst [x1, y1] = points[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tctx.stroke();\n}\n*/\n\nLineSeries.propTypes = {\n\tclassName: _propTypes2.default.string,\n\tstrokeWidth: _propTypes2.default.number,\n\tstrokeOpacity: _propTypes2.default.number,\n\tstroke: _propTypes2.default.string,\n\thoverStrokeWidth: _propTypes2.default.number,\n\tfill: _propTypes2.default.string,\n\tdefined: _propTypes2.default.func,\n\thoverTolerance: _propTypes2.default.number,\n\tstrokeDasharray: _propTypes2.default.oneOf(_utils.strokeDashTypes),\n\thighlightOnHover: _propTypes2.default.bool,\n\tonClick: _propTypes2.default.func,\n\tonDoubleClick: _propTypes2.default.func,\n\tonHover: _propTypes2.default.func,\n\tonUnHover: _propTypes2.default.func,\n\tonContextMenu: _propTypes2.default.func,\n\tyAccessor: _propTypes2.default.func,\n\tconnectNulls: _propTypes2.default.bool,\n\tinterpolation: _propTypes2.default.func,\n\tcanvasClip: _propTypes2.default.func,\n\tstyle: _propTypes2.default.object\n};\n\nLineSeries.defaultProps = {\n\tclassName: \"line \",\n\tstrokeWidth: 1,\n\tstrokeOpacity: 1,\n\thoverStrokeWidth: 4,\n\tfill: \"none\",\n\tstroke: \"#4682B4\",\n\tstrokeDasharray: \"Solid\",\n\tdefined: function defined(d) {\n\t\treturn !isNaN(d);\n\t},\n\thoverTolerance: 6,\n\thighlightOnHover: false,\n\tconnectNulls: false,\n\tonClick: function onClick(e) {\n\t\tconsole.log(\"Click\", e);\n\t},\n\tonDoubleClick: function onDoubleClick(e) {\n\t\tconsole.log(\"Double Click\", e);\n\t},\n\tonContextMenu: function onContextMenu(e) {\n\t\tconsole.log(\"Right Click\", e);\n\t}\n};\n\nexports.default = LineSeries;\n"},"sourceMaps":{"js":{"version":3,"sources":["../../../src/lib/series/LineSeries.js"],"names":["LineSeries","props","renderSVG","bind","drawOnCanvas","isHover","moreProps","highlightOnHover","yAccessor","hoverTolerance","mouseXY","currentItem","xScale","plotData","chartConfig","yScale","origin","xAccessor","x","y","radius","invert","left","right","cy","cx","hovering1","Math","pow","l","r","x1","y1","x2","y2","m","b","desiredY","round","hovering2","ctx","stroke","strokeOpacity","strokeWidth","hoverStrokeWidth","defined","strokeDasharray","interpolation","canvasClip","connectNulls","hovering","save","lineWidth","strokeStyle","setLineDash","split","dataSeries","d","curve","beginPath","context","restore","style","fill","className","onHover","onUnHover","hoverProps","drawOn","canvasToDraw","onClick","onDoubleClick","onContextMenu","propTypes","string","number","func","oneOf","bool","object","defaultProps","isNaN","e","console","log"],"mappings":"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","file":"LineSeries.js","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { line as d3Line } from \"d3-shape\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getAxisCanvas, getMouseCanvas } from \"../GenericComponent\";\n\nimport {\n\tisDefined,\n\tgetClosestItemIndexes,\n\tstrokeDashTypes,\n\tgetStrokeDasharray,\n\thexToRGBA,\n} from \"../utils\";\n\nclass LineSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t}\n\tisHover(moreProps) {\n\t\t// console.log(\"HERE\")\n\t\tconst { highlightOnHover, yAccessor, hoverTolerance } = this.props;\n\n\t\tif (!highlightOnHover) return false;\n\n\t\tconst { mouseXY, currentItem, xScale, plotData } = moreProps;\n\t\tconst { chartConfig: { yScale, origin } } = moreProps;\n\n\t\tconst { xAccessor } = moreProps;\n\n\t\tconst [x, y] = mouseXY;\n\t\tconst radius = hoverTolerance;\n\n\t\tconst { left, right } = getClosestItemIndexes(plotData, xScale.invert(x), xAccessor);\n\t\tif (left === right) {\n\t\t\tconst cy = yScale(yAccessor(currentItem)) + origin[1];\n\t\t\tconst cx = xScale(xAccessor(currentItem)) + origin[0];\n\n\t\t\tconst hovering1 = Math.pow(x - cx, 2) + Math.pow(y - cy, 2) < Math.pow(radius, 2);\n\n\t\t\treturn hovering1;\n\t\t} else {\n\t\t\tconst l = plotData[left];\n\t\t\tconst r = plotData[right];\n\t\t\tconst x1 = xScale(xAccessor(l)) + origin[0];\n\t\t\tconst y1 = yScale(yAccessor(l)) + origin[1];\n\t\t\tconst x2 = xScale(xAccessor(r)) + origin[0];\n\t\t\tconst y2 = yScale(yAccessor(r)) + origin[1];\n\n\t\t\t// y = m * x + b\n\t\t\tconst m /* slope */ = (y2 - y1) / (x2 - x1);\n\t\t\tconst b /* y intercept */ = -1 * m * x1 + y1;\n\n\t\t\tconst desiredY = Math.round(m * x + b);\n\n\t\t\tconst hovering2 = y >= desiredY - radius && y <= desiredY + radius;\n\n\t\t\treturn hovering2;\n\t\t}\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst {\n\t\t\tyAccessor,\n\t\t\tstroke,\n\t\t\tstrokeOpacity,\n\t\t\tstrokeWidth,\n\t\t\thoverStrokeWidth,\n\t\t\tdefined,\n\t\t\tstrokeDasharray,\n\t\t\tinterpolation,\n\t\t\tcanvasClip,\n\t\t} = this.props;\n\n\t\tconst { connectNulls } = this.props;\n\n\t\tconst { xAccessor } = moreProps;\n\t\tconst { xScale, chartConfig: { yScale }, plotData, hovering } = moreProps;\n\n\t\tif (canvasClip) {\n\t\t\tctx.save();\n\t\t\tcanvasClip(ctx, moreProps);\n\t\t}\n\n\t\tctx.lineWidth = hovering ? hoverStrokeWidth : strokeWidth;\n\n\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n\t\tctx.setLineDash(getStrokeDasharray(strokeDasharray).split(\",\"));\n\n\t\tconst dataSeries = d3Line()\n\t\t\t.x(d => Math.round(xScale(xAccessor(d))))\n\t\t\t.y(d => Math.round(yScale(yAccessor(d))));\n\n\t\tif (isDefined(interpolation)) {\n\t\t\tdataSeries.curve(interpolation);\n\t\t}\n\t\tif (!connectNulls) {\n\t\t\tdataSeries.defined(d => defined(yAccessor(d)));\n\t\t}\n\n\t\tctx.beginPath();\n\t\tdataSeries.context(ctx)(plotData);\n\t\tctx.stroke();\n\n\t\tif (canvasClip) {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { yAccessor, stroke, strokeOpacity, strokeWidth, hoverStrokeWidth, defined, strokeDasharray } = this.props;\n\t\tconst { connectNulls } = this.props;\n\t\tconst { interpolation, style } = this.props;\n\t\tconst { xAccessor, chartConfig } = moreProps;\n\n\t\tconst { xScale, plotData, hovering } = moreProps;\n\n\t\tconst { yScale } = chartConfig;\n\t\tconst dataSeries = d3Line()\n\t\t\t.x(d => Math.round(xScale(xAccessor(d))))\n\t\t\t.y(d => Math.round(yScale(yAccessor(d))));\n\n\t\tif (isDefined(interpolation)) {\n\t\t\tdataSeries.curve(interpolation);\n\t\t}\n\t\tif (!connectNulls) {\n\t\t\tdataSeries.defined(d => defined(yAccessor(d)));\n\t\t}\n\t\tconst d = dataSeries(plotData);\n\n\t\tconst { fill, className } = this.props;\n\n\t\treturn (\n\t\t\t<path\n\t\t\t\tstyle={style}\n\t\t\t\tclassName={`${className} ${stroke ? \"\" : \" line-stroke\"}`}\n\t\t\t\td={d}\n\t\t\t\tstroke={stroke}\n\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\tstrokeWidth={hovering ? hoverStrokeWidth : strokeWidth}\n\t\t\t\tstrokeDasharray={getStrokeDasharray(strokeDasharray)}\n\t\t\t\tfill={fill}\n\t\t\t/>\n\t\t);\n\t}\n\trender() {\n\t\tconst { highlightOnHover, onHover, onUnHover } = this.props;\n\t\tconst hoverProps = (highlightOnHover || onHover || onUnHover)\n\t\t\t? {\n\t\t\t\tisHover: this.isHover,\n\t\t\t\tdrawOn: [\"mousemove\", \"pan\"],\n\t\t\t\tcanvasToDraw: getMouseCanvas\n\t\t\t}\n\t\t\t: {\n\t\t\t\tdrawOn: [\"pan\"],\n\t\t\t\tcanvasToDraw: getAxisCanvas\n\t\t\t};\n\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\n\t\t\tonClickWhenHover={this.props.onClick}\n\t\t\tonDoubleClickWhenHover={this.props.onDoubleClick}\n\t\t\tonContextMenuWhenHover={this.props.onContextMenu}\n\t\t\tonHover={this.props.onHover}\n\t\t\tonUnHover={this.props.onUnHover}\n\t\t\t{...hoverProps}\n\t\t/>;\n\t}\n}\n\n/*\nfunction segment(points, ctx) {\n\tctx.beginPath();\n\n\tconst [x, y] = first(points);\n\tctx.moveTo(x, y);\n\tfor (let i = 1; i < points.length; i++) {\n\t\tconst [x1, y1] = points[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tctx.stroke();\n}\n*/\n\nLineSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tstrokeOpacity: PropTypes.number,\n\tstroke: PropTypes.string,\n\thoverStrokeWidth: PropTypes.number,\n\tfill: PropTypes.string,\n\tdefined: PropTypes.func,\n\thoverTolerance: PropTypes.number,\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\n\thighlightOnHover: PropTypes.bool,\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonHover: PropTypes.func,\n\tonUnHover: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tyAccessor: PropTypes.func,\n\tconnectNulls: PropTypes.bool,\n\tinterpolation: PropTypes.func,\n\tcanvasClip: PropTypes.func,\n\tstyle: PropTypes.object,\n};\n\nLineSeries.defaultProps = {\n\tclassName: \"line \",\n\tstrokeWidth: 1,\n\tstrokeOpacity: 1,\n\thoverStrokeWidth: 4,\n\tfill: \"none\",\n\tstroke: \"#4682B4\",\n\tstrokeDasharray: \"Solid\",\n\tdefined: d => !isNaN(d),\n\thoverTolerance: 6,\n\thighlightOnHover: false,\n\tconnectNulls: false,\n\tonClick: function(e) { console.log(\"Click\", e); },\n\tonDoubleClick: function(e) { console.log(\"Double Click\", e); },\n\tonContextMenu: function(e) { console.log(\"Right Click\", e); },\n};\n\nexport default LineSeries;\n"]}},"error":null,"hash":"696a0a36f898faa1dfc1b8d71045d90c","cacheData":{"env":{}}}